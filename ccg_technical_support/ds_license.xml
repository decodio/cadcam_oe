<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record id="ds_license_form" model="ir.ui.view" >
			<field name="name">ds.license.form</field>
			<field name="model">ds.license</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="DS License Data">
					<group name="Customer" col="4" colspan="2">
						<field name="client_id" />
						<field name="company_id" />
						<field name="user_id" />
					</group>
					<group name="License" col="2" colspan="4">
						<field name="ib_number" select="1" />
						<field name="portfolio" />
						<field name="trigram" />
						<field name="quantity" />
						<separator string="Dates" col="1" colspan="4"/>
						<field name="start_date" />
						<field name="end_date" />
						<separator string="Notifications" col="1" colspan="4"/>
						<field name="notify" />
						</group>
				</form>
			</field>
		</record>

		<record id="ds_license_tree" model="ir.ui.view" >
			<field name="name">ds.license.tree</field>
			<field name="model">ds.license</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="DS License Data">
					<field name="client_id" />
					<field name="user_id" />
					<field name="ib_number" />
					<field name="portfolio" />
					<field name="trigram" />
					<field name="start_date" />
					<field name="end_date" />
					<field name="quantity" />
				</tree>
			</field>
		</record>

       <record id="view_ds_licenses_filter" model="ir.ui.view">
            <field name="name">view.ds.licenses.filter</field>
            <field name="model">ds.license</field>
            <field name="arch" type="xml">
                <search string="Search Licenses">
                    <field name="client_id" string="Client"/>
                    <separator/>
                    <filter string="My" domain="[('user_id','=',uid)]"/>
                    <field name="client_id"/>
                    <field name="end_date"/>
                    <group string="Group By" expand="0">
                        <filter string="Client" context="{'group_by':'client_id'}"/>
                    </group>
                </search>
            </field>
        </record>
				
		<record id="action_ds_license" model="ir.actions.act_window">
			<field name="name">action.ds.license</field>
			<field name="res_model">ds.license</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,gantt</field>
			<field name="search_view_id" ref="view_ds_licenses_filter" />
		</record>

	   <record id="view_ds_license_gantt" model="ir.ui.view">
	        <field name="name">view.calendar.event.gantt</field>
	        <field name="model">ds.license</field>
	        <field name="arch" type="xml">
	            <gantt date_stop="end_date" date_start="start_date" string="Licenses" mode="year">
    			</gantt>
	        </field>
	    </record>

        <menuitem id="menu_ccg_main" name="CADCAM"/>

		<menuitem id="menu_ccg_tehnical_support" name="Technical support" 
				parent="menu_ccg_main" />
 		
 		<menuitem id="menu_ds_license" parent="menu_ccg_tehnical_support"
			name="DS licenses" action="action_ds_license" />
	</data>

</openerp>